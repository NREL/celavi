

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Data Preprocessing &mdash; CELAVI  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Scenario" href="doc_scenario.html" />
    <link rel="prev" title="Configuration Files" href="doc_config.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="main_page.html" class="icon icon-home"> CELAVI
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="doc_config.html">Configuration Files</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Data Preprocessing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#data-manager">Data Manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="#compute-locations">Compute Locations</a></li>
<li class="toctree-l2"><a class="reference internal" href="#data-filtering">Data Filtering</a></li>
<li class="toctree-l2"><a class="reference internal" href="#router">Router</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="doc_scenario.html">Scenario</a></li>
<li class="toctree-l1"><a class="reference internal" href="doc_des.html">Discrete Event Simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="doc_costgraph.html">Cost Graph</a></li>
<li class="toctree-l1"><a class="reference internal" href="doc_pylcia.html">Python Life Cycle Inventory Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="doc_diagnostic_viz.html">Postprocessing and Diagnostic Visualizations</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="main_page.html">CELAVI</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="main_page.html">Docs</a> &raquo;</li>
        
      <li>Data Preprocessing</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/doc_preprocessing.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="data-preprocessing">
<h1>Data Preprocessing<a class="headerlink" href="#data-preprocessing" title="Permalink to this headline">¶</a></h1>
<p>Classes documented here deal with processing raw information into CELAVI-ready input datasets. Depending on the data source used, methods within the Compute Locations class may need to be edited or new methods added, to work with the different formats of the raw information.</p>
<div class="section" id="data-manager">
<h2>Data Manager<a class="headerlink" href="#data-manager" title="Permalink to this headline">¶</a></h2>
<p>The <cite>Data</cite> class and its child classes define specific data formats (column names) and data types for the CELAVI input datasets. Backfilling can also be performed, or not, for each dataset type.</p>
<span class="target" id="module-celavi.data_manager"></span><p>Created on Fri Jan 22 08:05:13 2021</p>
<p>Uses code from Feedstock Production Emissions to Air Model (FPEAM) Copyright (c) 2018
Alliance for Sustainable Energy, LLC; Noah Fisher.
Builds on functionality in the FPEAM’s Data.py.
Unmodified FPEAM code is available at <a class="reference external" href="https://github.com/NREL/fpeam">https://github.com/NREL/fpeam</a>.</p>
<p>&#64;author: aeberle</p>
<dl class="py class">
<dt id="celavi.data_manager.Data">
<em class="property">class </em><code class="sig-prename descclassname">celavi.data_manager.</code><code class="sig-name descname">Data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">fpath</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">columns</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">backfill</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#celavi.data_manager.Data" title="Permalink to this definition">¶</a></dt>
<dd><p>Data representation. Specific datasets are created as child classes with
defined column names, data types, and backfilling values. Creating child
classes removes the need to define column names etc when the classes are
called to read data from files.</p>
<dl class="py method">
<dt id="celavi.data_manager.Data.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">fpath</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">columns</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">backfill</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#celavi.data_manager.Data.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> – Initial data frame</p></li>
<li><p><strong>fpath</strong> – Filepath location of data to be read in</p></li>
<li><p><strong>columns</strong> – List of columns to backfill</p></li>
<li><p><strong>backfill</strong> – Boolean flag: perform backfilling with datatype-specific value</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="celavi.data_manager.Data.load">
<code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span></em>, <em class="sig-param"><span class="n">columns</span></em>, <em class="sig-param"><span class="n">memory_map</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">header</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#celavi.data_manager.Data.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load data from a text file at &lt;fpath&gt;. Check and set column names.</p>
<p>See pandas.read_table() help for additional arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpath</strong> (<em>[</em><em>string</em><em>]</em>) – file path to CSV file or SQLite database file</p></li>
<li><p><strong>columns</strong> (<em>[</em><em>dict</em><em>]</em>) – {name: type, …}</p></li>
<li><p><strong>memory_map</strong> (<em>[</em><em>bool</em><em>]</em>) – load directly to memory for improved performance</p></li>
<li><p><strong>header</strong> (<em>[</em><em>int</em><em>]</em>) – 0-based row index containing column names</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="celavi.data_manager.Data.backfill">
<code class="sig-name descname">backfill</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">column</span></em>, <em class="sig-param"><span class="n">value</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#celavi.data_manager.Data.backfill" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace NaNs in &lt;column&gt; with &lt;value&gt;.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column</strong> (<em>[</em><em>string</em><em>]</em>) – Name of column with NaNs to be backfilled</p></li>
<li><p><strong>value</strong> (<em>[</em><em>any</em><em>]</em>) – Value for backfill</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame with [column] backfilled with [value]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="celavi.data_manager.Data.validate">
<code class="sig-name descname">validate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#celavi.data_manager.Data.validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that data are not empty.</p>
<p>Return False if empty and True otherwise.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Boolean flag</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="celavi.data_manager.TransportationGraph">
<em class="property">class </em><code class="sig-prename descclassname">celavi.data_manager.</code><code class="sig-name descname">TransportationGraph</code><span class="sig-paren">(</span><em class="sig-param">df=None</em>, <em class="sig-param">fpath=None</em>, <em class="sig-param">columns={'countyfp': &lt;class 'str'&gt;</em>, <em class="sig-param">'edge_id': &lt;class 'int'&gt;</em>, <em class="sig-param">'fclass': &lt;class 'int'&gt;</em>, <em class="sig-param">'statefp': &lt;class 'str'&gt;</em>, <em class="sig-param">'u_of_edge': &lt;class 'int'&gt;</em>, <em class="sig-param">'v_of_edge': &lt;class 'int'&gt;</em>, <em class="sig-param">'weight': &lt;class 'float'&gt;}</em>, <em class="sig-param">backfill=True</em><span class="sig-paren">)</span><a class="headerlink" href="#celavi.data_manager.TransportationGraph" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in and process the underlying transportation network for the Router
module.</p>
<dl class="py method">
<dt id="celavi.data_manager.TransportationGraph.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">df=None</em>, <em class="sig-param">fpath=None</em>, <em class="sig-param">columns={'countyfp': &lt;class 'str'&gt;</em>, <em class="sig-param">'edge_id': &lt;class 'int'&gt;</em>, <em class="sig-param">'fclass': &lt;class 'int'&gt;</em>, <em class="sig-param">'statefp': &lt;class 'str'&gt;</em>, <em class="sig-param">'u_of_edge': &lt;class 'int'&gt;</em>, <em class="sig-param">'v_of_edge': &lt;class 'int'&gt;</em>, <em class="sig-param">'weight': &lt;class 'float'&gt;}</em>, <em class="sig-param">backfill=True</em><span class="sig-paren">)</span><a class="headerlink" href="#celavi.data_manager.TransportationGraph.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> – Initial data frame</p></li>
<li><p><strong>fpath</strong> – Filepath location of data to be read in</p></li>
<li><p><strong>columns</strong> – List of columns to backfill</p></li>
<li><p><strong>backfill</strong> – Boolean flag: perform backfilling with datatype-specific value</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="celavi.data_manager.TransportationNodeLocations">
<em class="property">class </em><code class="sig-prename descclassname">celavi.data_manager.</code><code class="sig-name descname">TransportationNodeLocations</code><span class="sig-paren">(</span><em class="sig-param">df=None</em>, <em class="sig-param">fpath=None</em>, <em class="sig-param">columns={'lat': &lt;class 'float'&gt;</em>, <em class="sig-param">'long': &lt;class 'float'&gt;</em>, <em class="sig-param">'node_id': &lt;class 'int'&gt;}</em>, <em class="sig-param">backfill=True</em><span class="sig-paren">)</span><a class="headerlink" href="#celavi.data_manager.TransportationNodeLocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in and process the node locations in the transportation graph.</p>
<dl class="py method">
<dt id="celavi.data_manager.TransportationNodeLocations.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">df=None</em>, <em class="sig-param">fpath=None</em>, <em class="sig-param">columns={'lat': &lt;class 'float'&gt;</em>, <em class="sig-param">'long': &lt;class 'float'&gt;</em>, <em class="sig-param">'node_id': &lt;class 'int'&gt;}</em>, <em class="sig-param">backfill=True</em><span class="sig-paren">)</span><a class="headerlink" href="#celavi.data_manager.TransportationNodeLocations.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> – Initial data frame</p></li>
<li><p><strong>fpath</strong> – Filepath location of data to be read in</p></li>
<li><p><strong>columns</strong> – List of columns to backfill</p></li>
<li><p><strong>backfill</strong> – Boolean flag: perform backfilling with datatype-specific value</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="celavi.data_manager.Locations">
<em class="property">class </em><code class="sig-prename descclassname">celavi.data_manager.</code><code class="sig-name descname">Locations</code><span class="sig-paren">(</span><em class="sig-param">df=None</em>, <em class="sig-param">fpath=None</em>, <em class="sig-param">columns={'facility_id': &lt;class 'int'&gt;</em>, <em class="sig-param">'facility_type': &lt;class 'str'&gt;</em>, <em class="sig-param">'lat': &lt;class 'float'&gt;</em>, <em class="sig-param">'long': &lt;class 'float'&gt;</em>, <em class="sig-param">'region_id_1': &lt;class 'str'&gt;</em>, <em class="sig-param">'region_id_2': &lt;class 'str'&gt;</em>, <em class="sig-param">'region_id_3': &lt;class 'str'&gt;</em>, <em class="sig-param">'region_id_4': &lt;class 'str'&gt;}</em>, <em class="sig-param">backfill=True</em><span class="sig-paren">)</span><a class="headerlink" href="#celavi.data_manager.Locations" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in and process raw facility locations (other than power plants)
datasets.</p>
<dl class="py method">
<dt id="celavi.data_manager.Locations.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">df=None</em>, <em class="sig-param">fpath=None</em>, <em class="sig-param">columns={'facility_id': &lt;class 'int'&gt;</em>, <em class="sig-param">'facility_type': &lt;class 'str'&gt;</em>, <em class="sig-param">'lat': &lt;class 'float'&gt;</em>, <em class="sig-param">'long': &lt;class 'float'&gt;</em>, <em class="sig-param">'region_id_1': &lt;class 'str'&gt;</em>, <em class="sig-param">'region_id_2': &lt;class 'str'&gt;</em>, <em class="sig-param">'region_id_3': &lt;class 'str'&gt;</em>, <em class="sig-param">'region_id_4': &lt;class 'str'&gt;}</em>, <em class="sig-param">backfill=True</em><span class="sig-paren">)</span><a class="headerlink" href="#celavi.data_manager.Locations.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> – Initial data frame</p></li>
<li><p><strong>fpath</strong> – Filepath location of data to be read in</p></li>
<li><p><strong>columns</strong> – List of columns to backfill</p></li>
<li><p><strong>backfill</strong> – Boolean flag: perform backfilling with datatype-specific value</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="celavi.data_manager.TechUnitLocations">
<em class="property">class </em><code class="sig-prename descclassname">celavi.data_manager.</code><code class="sig-name descname">TechUnitLocations</code><span class="sig-paren">(</span><em class="sig-param">df=None</em>, <em class="sig-param">fpath=None</em>, <em class="sig-param">columns={'eia_id': &lt;class 'float'&gt;</em>, <em class="sig-param">'p_cap': &lt;class 'float'&gt;</em>, <em class="sig-param">'p_name': &lt;class 'str'&gt;</em>, <em class="sig-param">'p_tnum': &lt;class 'float'&gt;</em>, <em class="sig-param">'p_year': &lt;class 'float'&gt;</em>, <em class="sig-param">'t_cap': &lt;class 'float'&gt;</em>, <em class="sig-param">'t_county': &lt;class 'str'&gt;</em>, <em class="sig-param">'t_fips': &lt;class 'int'&gt;</em>, <em class="sig-param">'t_model': &lt;class 'str'&gt;</em>, <em class="sig-param">'t_state': &lt;class 'str'&gt;</em>, <em class="sig-param">'xlong': &lt;class 'float'&gt;</em>, <em class="sig-param">'ylat': &lt;class 'float'&gt;}</em>, <em class="sig-param">backfill=True</em><span class="sig-paren">)</span><a class="headerlink" href="#celavi.data_manager.TechUnitLocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in and process raw power plant locations dataset.</p>
<p>Dataset is downloadable at <a class="reference external" href="https://eerscmap.usgs.gov/uswtdb/">https://eerscmap.usgs.gov/uswtdb/</a></p>
<p>No manual changes are needed to the raw dataset before it is processed.</p>
<dl class="py method">
<dt id="celavi.data_manager.TechUnitLocations.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">df=None</em>, <em class="sig-param">fpath=None</em>, <em class="sig-param">columns={'eia_id': &lt;class 'float'&gt;</em>, <em class="sig-param">'p_cap': &lt;class 'float'&gt;</em>, <em class="sig-param">'p_name': &lt;class 'str'&gt;</em>, <em class="sig-param">'p_tnum': &lt;class 'float'&gt;</em>, <em class="sig-param">'p_year': &lt;class 'float'&gt;</em>, <em class="sig-param">'t_cap': &lt;class 'float'&gt;</em>, <em class="sig-param">'t_county': &lt;class 'str'&gt;</em>, <em class="sig-param">'t_fips': &lt;class 'int'&gt;</em>, <em class="sig-param">'t_model': &lt;class 'str'&gt;</em>, <em class="sig-param">'t_state': &lt;class 'str'&gt;</em>, <em class="sig-param">'xlong': &lt;class 'float'&gt;</em>, <em class="sig-param">'ylat': &lt;class 'float'&gt;}</em>, <em class="sig-param">backfill=True</em><span class="sig-paren">)</span><a class="headerlink" href="#celavi.data_manager.TechUnitLocations.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> – Initial data frame</p></li>
<li><p><strong>fpath</strong> – Filepath location of data to be read in</p></li>
<li><p><strong>columns</strong> – List of columns to backfill</p></li>
<li><p><strong>backfill</strong> – Boolean flag: perform backfilling with datatype-specific value</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="celavi.data_manager.OtherFacilityLocations">
<em class="property">class </em><code class="sig-prename descclassname">celavi.data_manager.</code><code class="sig-name descname">OtherFacilityLocations</code><span class="sig-paren">(</span><em class="sig-param">df=None</em>, <em class="sig-param">fpath=None</em>, <em class="sig-param">columns={'facility_id': &lt;class 'int'&gt;</em>, <em class="sig-param">'facility_type': &lt;class 'str'&gt;</em>, <em class="sig-param">'lat': &lt;class 'float'&gt;</em>, <em class="sig-param">'long': &lt;class 'float'&gt;</em>, <em class="sig-param">'region_id_1': &lt;class 'str'&gt;</em>, <em class="sig-param">'region_id_2': &lt;class 'str'&gt;</em>, <em class="sig-param">'region_id_3': &lt;class 'str'&gt;</em>, <em class="sig-param">'region_id_4': &lt;class 'str'&gt;}</em>, <em class="sig-param">backfill=True</em><span class="sig-paren">)</span><a class="headerlink" href="#celavi.data_manager.OtherFacilityLocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in and process additional, miscellaneous facility location datasets.</p>
<dl class="py method">
<dt id="celavi.data_manager.OtherFacilityLocations.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">df=None</em>, <em class="sig-param">fpath=None</em>, <em class="sig-param">columns={'facility_id': &lt;class 'int'&gt;</em>, <em class="sig-param">'facility_type': &lt;class 'str'&gt;</em>, <em class="sig-param">'lat': &lt;class 'float'&gt;</em>, <em class="sig-param">'long': &lt;class 'float'&gt;</em>, <em class="sig-param">'region_id_1': &lt;class 'str'&gt;</em>, <em class="sig-param">'region_id_2': &lt;class 'str'&gt;</em>, <em class="sig-param">'region_id_3': &lt;class 'str'&gt;</em>, <em class="sig-param">'region_id_4': &lt;class 'str'&gt;}</em>, <em class="sig-param">backfill=True</em><span class="sig-paren">)</span><a class="headerlink" href="#celavi.data_manager.OtherFacilityLocations.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> – Initial data frame</p></li>
<li><p><strong>fpath</strong> – Filepath location of data to be read in</p></li>
<li><p><strong>columns</strong> – List of columns to backfill</p></li>
<li><p><strong>backfill</strong> – Boolean flag: perform backfilling with datatype-specific value</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="celavi.data_manager.LandfillLocations">
<em class="property">class </em><code class="sig-prename descclassname">celavi.data_manager.</code><code class="sig-name descname">LandfillLocations</code><span class="sig-paren">(</span><em class="sig-param">df=None</em>, <em class="sig-param">fpath=None</em>, <em class="sig-param">columns={'City': &lt;class 'str'&gt;</em>, <em class="sig-param">'County': &lt;class 'str'&gt;</em>, <em class="sig-param">'Current Landfill Status': &lt;class 'str'&gt;</em>, <em class="sig-param">'Landfill Closure Year': &lt;class 'str'&gt;</em>, <em class="sig-param">'Landfill ID': &lt;class 'int'&gt;</em>, <em class="sig-param">'Latitude': &lt;class 'float'&gt;</em>, <em class="sig-param">'Longitude': &lt;class 'float'&gt;</em>, <em class="sig-param">'State': &lt;class 'str'&gt;}</em>, <em class="sig-param">backfill=True</em><span class="sig-paren">)</span><a class="headerlink" href="#celavi.data_manager.LandfillLocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in and process raw landfill facility locations dataset from the U.S.
EPA’s LMOP database at <a class="reference external" href="https://www.epa.gov/lmop">https://www.epa.gov/lmop</a>.</p>
<dl class="py method">
<dt id="celavi.data_manager.LandfillLocations.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">df=None</em>, <em class="sig-param">fpath=None</em>, <em class="sig-param">columns={'City': &lt;class 'str'&gt;</em>, <em class="sig-param">'County': &lt;class 'str'&gt;</em>, <em class="sig-param">'Current Landfill Status': &lt;class 'str'&gt;</em>, <em class="sig-param">'Landfill Closure Year': &lt;class 'str'&gt;</em>, <em class="sig-param">'Landfill ID': &lt;class 'int'&gt;</em>, <em class="sig-param">'Latitude': &lt;class 'float'&gt;</em>, <em class="sig-param">'Longitude': &lt;class 'float'&gt;</em>, <em class="sig-param">'State': &lt;class 'str'&gt;}</em>, <em class="sig-param">backfill=True</em><span class="sig-paren">)</span><a class="headerlink" href="#celavi.data_manager.LandfillLocations.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> – Initial data frame</p></li>
<li><p><strong>fpath</strong> – Filepath location of data to be read in</p></li>
<li><p><strong>columns</strong> – List of columns to backfill</p></li>
<li><p><strong>backfill</strong> – Boolean flag: perform backfilling with datatype-specific value</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="celavi.data_manager.StandardScenarios">
<em class="property">class </em><code class="sig-prename descclassname">celavi.data_manager.</code><code class="sig-name descname">StandardScenarios</code><span class="sig-paren">(</span><em class="sig-param">df=None</em>, <em class="sig-param">fpath=None</em>, <em class="sig-param">columns={'state': &lt;class 'str'&gt;</em>, <em class="sig-param">'t': &lt;class 'int'&gt;</em>, <em class="sig-param">'wind-ons_MW': &lt;class 'float'&gt;}</em>, <em class="sig-param">backfill=True</em><span class="sig-paren">)</span><a class="headerlink" href="#celavi.data_manager.StandardScenarios" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in and process Standard Scenarios electricity grid mix datasets,
viewable and downloadable at
<a class="reference external" href="https://cambium.nrel.gov/?project=c3fec8d8-6243-4a8a-9bff-66af71889958">https://cambium.nrel.gov/?project=c3fec8d8-6243-4a8a-9bff-66af71889958</a> .
More information on the Standard Scenarios project is available from
<a class="reference external" href="https://www.nrel.gov/analysis/standard-scenarios.html">https://www.nrel.gov/analysis/standard-scenarios.html</a> .</p>
<p>This class is set up to use the annual, state-level datasets, with file
names that end in: “_annual_state.csv”. Using any other type of dataset
will produce an error.</p>
<p>USER NOTE: Delete the first line of the raw Standard Scenarios file before
reading in to CELAVI.</p>
<dl class="py method">
<dt id="celavi.data_manager.StandardScenarios.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">df=None</em>, <em class="sig-param">fpath=None</em>, <em class="sig-param">columns={'state': &lt;class 'str'&gt;</em>, <em class="sig-param">'t': &lt;class 'int'&gt;</em>, <em class="sig-param">'wind-ons_MW': &lt;class 'float'&gt;}</em>, <em class="sig-param">backfill=True</em><span class="sig-paren">)</span><a class="headerlink" href="#celavi.data_manager.StandardScenarios.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> – Initial data frame</p></li>
<li><p><strong>fpath</strong> – Filepath location of data to be read in</p></li>
<li><p><strong>columns</strong> – List of columns to backfill</p></li>
<li><p><strong>backfill</strong> – Boolean flag: perform backfilling with datatype-specific value</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="celavi.data_manager.RoutePairs">
<em class="property">class </em><code class="sig-prename descclassname">celavi.data_manager.</code><code class="sig-name descname">RoutePairs</code><span class="sig-paren">(</span><em class="sig-param">df=None</em>, <em class="sig-param">fpath=None</em>, <em class="sig-param">columns={'destination_facility_type': &lt;class 'str'&gt;</em>, <em class="sig-param">'in_state_only': &lt;class 'bool'&gt;</em>, <em class="sig-param">'source_facility_type': &lt;class 'str'&gt;</em>, <em class="sig-param">'vkmt_max': &lt;class 'float'&gt;}</em>, <em class="sig-param">backfill=True</em><span class="sig-paren">)</span><a class="headerlink" href="#celavi.data_manager.RoutePairs" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in and process the dataset defining allowable facility pairs for the
Router.</p>
<dl class="py method">
<dt id="celavi.data_manager.RoutePairs.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">df=None</em>, <em class="sig-param">fpath=None</em>, <em class="sig-param">columns={'destination_facility_type': &lt;class 'str'&gt;</em>, <em class="sig-param">'in_state_only': &lt;class 'bool'&gt;</em>, <em class="sig-param">'source_facility_type': &lt;class 'str'&gt;</em>, <em class="sig-param">'vkmt_max': &lt;class 'float'&gt;}</em>, <em class="sig-param">backfill=True</em><span class="sig-paren">)</span><a class="headerlink" href="#celavi.data_manager.RoutePairs.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> – Initial data frame</p></li>
<li><p><strong>fpath</strong> – Filepath location of data to be read in</p></li>
<li><p><strong>columns</strong> – List of columns to backfill</p></li>
<li><p><strong>backfill</strong> – Boolean flag: perform backfilling with datatype-specific value</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="compute-locations">
<h2>Compute Locations<a class="headerlink" href="#compute-locations" title="Permalink to this headline">¶</a></h2>
<p>Methods in this class perform merging and filtering operations to generate one dataset of all supply chain facility locations and types, and a second dataset of technology unit installations over time.</p>
<span class="target" id="module-celavi.compute_locations"></span><dl class="py class">
<dt id="celavi.compute_locations.ComputeLocations">
<em class="property">class </em><code class="sig-prename descclassname">celavi.compute_locations.</code><code class="sig-name descname">ComputeLocations</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">start_year</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">power_plant_locations</span></em>, <em class="sig-param"><span class="n">landfill_locations</span></em>, <em class="sig-param"><span class="n">other_facility_locations</span></em>, <em class="sig-param"><span class="n">transportation_graph</span></em>, <em class="sig-param"><span class="n">node_locations</span></em>, <em class="sig-param"><span class="n">lookup_facility_type</span></em>, <em class="sig-param"><span class="n">technology_data_filename</span></em>, <em class="sig-param"><span class="n">standard_scenarios_filename</span></em><span class="sig-paren">)</span><a class="headerlink" href="#celavi.compute_locations.ComputeLocations" title="Permalink to this definition">¶</a></dt>
<dd><p>The ComputeLocations class performs preprocessing that ingests raw facility
location data and returns a formatted, aggregated dataset of all
facilities involved in a circular supply chain.</p>
<p>The specific preprocessing steps will need to be adjusted for different
raw data sources to allow for variations in column names, data types, and
the number of files ingested. The output format of the processed dataset
must remain as it is defined in this code for the remainder of the CELAVI
code base to function.</p>
<dl class="py method">
<dt id="celavi.compute_locations.ComputeLocations.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">start_year</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">power_plant_locations</span></em>, <em class="sig-param"><span class="n">landfill_locations</span></em>, <em class="sig-param"><span class="n">other_facility_locations</span></em>, <em class="sig-param"><span class="n">transportation_graph</span></em>, <em class="sig-param"><span class="n">node_locations</span></em>, <em class="sig-param"><span class="n">lookup_facility_type</span></em>, <em class="sig-param"><span class="n">technology_data_filename</span></em>, <em class="sig-param"><span class="n">standard_scenarios_filename</span></em><span class="sig-paren">)</span><a class="headerlink" href="#celavi.compute_locations.ComputeLocations.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start_year</strong> (<em>int</em>) – Calendar year when the simulation begins.</p></li>
<li><p><strong>power_plant_locations</strong> – Data set of renewable energy power plant locations including lat,
long, region identifier columns, and other power-plant-specific
information as needed.</p></li>
<li><p><strong>landfill_locations</strong> – Data set of landfill locations.</p></li>
<li><p><strong>other_facility_locations</strong> – Data set of all other facility types involved in the case study.</p></li>
<li><p><strong>transportation_graph</strong> – Transportation network data.</p></li>
<li><p><strong>node_locations</strong> – Node locations within transportation graph.</p></li>
<li><p><strong>lookup_facility_type</strong> – File defining the allowable set of facility types in the case study.</p></li>
<li><p><strong>technology_data_filename</strong> – File with technology-specific installation data, including year
installed, location (lat, long, and region identifiers), and any
technology-specific data required to model material flows into
power plants.</p></li>
<li><p><strong>standard_scenarios_filename</strong> – File of output from NREL’s ReEDS model, used for capacity expansion
projections past the current year.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="celavi.compute_locations.ComputeLocations.wind_power_plant">
<code class="sig-name descname">wind_power_plant</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#celavi.compute_locations.ComputeLocations.wind_power_plant" title="Permalink to this definition">¶</a></dt>
<dd><p>Ingests raw data from the U.S. Wind Turbine database, filters down to
the contiguous U.S. and creates a data frame that can be combined with
other sets of facility location data. The number_of_technology_units
file is also created from this dataset.</p>
<p>See TurbineLocations child class of Data class for column names and
data types, and where to download the USWTDB.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p><strong>wind_plant_locations</strong> – Dataset of power plant locations including unique facility ID, the
facility type identifier, a lat/long pair, and four generic region
identifiers (country, state, county, etc.)</p>
<dl class="simple">
<dt>Columns:</dt><dd><ul class="simple">
<li><p>facility_id : int</p></li>
<li><p>facility_type : str</p></li>
<li><p>lat : float</p></li>
<li><p>long : float</p></li>
<li><p>region_id_1 : str</p></li>
<li><p>region_id_2 : str</p></li>
<li><p>region_id_3 : str</p></li>
<li><p>region_id_4 : str</p></li>
</ul>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="celavi.compute_locations.ComputeLocations.landfill">
<code class="sig-name descname">landfill</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#celavi.compute_locations.ComputeLocations.landfill" title="Permalink to this definition">¶</a></dt>
<dd><p>Processes raw data from U.S. EPA Landfill Methane Outreach Program
(LMOP) to create a dataset of  landfill locations in the contiguous
U.S. See the LandfillLocations child class of the Data class for
column names and download location.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p><strong>landfill_locations_no_nulls</strong> – Dataset of landfill locations including unique facility ID, the
facility type identifier, a lat/long pair, and four generic region
identifiers (country, state, county, etc.)</p>
<dl class="simple">
<dt>Columns:</dt><dd><ul class="simple">
<li><p>facility_id : int</p></li>
<li><p>facility_type : str</p></li>
<li><p>lat : float</p></li>
<li><p>long : float</p></li>
<li><p>region_id_1 : str</p></li>
<li><p>region_id_2 : str</p></li>
<li><p>region_id_3 : str</p></li>
<li><p>region_id_4 : str</p></li>
</ul>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="celavi.compute_locations.ComputeLocations.other_facility">
<code class="sig-name descname">other_facility</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#celavi.compute_locations.ComputeLocations.other_facility" title="Permalink to this definition">¶</a></dt>
<dd><p>Process additional facility data that does not already have a dataset-
specific method. See the OtherFacilityLocations child class of the Data
class for column names.</p>
<p>If using this method, the location dataset being read in must already
be in the same format as the Return value.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p><strong>facility_locations</strong> – Dataset of generic facility locations including unique facility ID,
the facility type identifier, a lat/long pair, and four generic
region identifiers (country, state, county, etc.)</p>
<dl class="simple">
<dt>Columns:</dt><dd><ul class="simple">
<li><p>facility_id : int</p></li>
<li><p>facility_type : str</p></li>
<li><p>lat : float</p></li>
<li><p>long : float</p></li>
<li><p>region_id_1 : str</p></li>
<li><p>region_id_2 : str</p></li>
<li><p>region_id_3 : str</p></li>
<li><p>region_id_4 : str</p></li>
</ul>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="celavi.compute_locations.ComputeLocations.capacity_projections">
<code class="sig-name descname">capacity_projections</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#celavi.compute_locations.ComputeLocations.capacity_projections" title="Permalink to this definition">¶</a></dt>
<dd><p>Use NREL’s Standard Scenarios for electricity grid mix projections to
calculate future technology unit installations. See the StandardScenarios
child class of the Data parent class for additional information on
obtaining and formatting the input dataset.</p>
<p>Future technology unit installations do not have locations defined in the
input datasets. Locations for these installations are calculated by U.S.
state (region_id_2) by averaging the locations of previously installed
technology units.</p>
</dd></dl>

<dl class="py method">
<dt id="celavi.compute_locations.ComputeLocations.join_facilities">
<code class="sig-name descname">join_facilities</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">locations_output_file</span></em><span class="sig-paren">)</span><a class="headerlink" href="#celavi.compute_locations.ComputeLocations.join_facilities" title="Permalink to this definition">¶</a></dt>
<dd><p>Call other ComputeLocations methods to process raw locations datasets
into a single facility location dataset. Creates the
number_of_technology_units dataset from historical installation data
and capacity expansion projection data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>locations_output_file</strong> (<em>str</em>) – Path where the processed and aggregated locations dataset is saved</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="data-filtering">
<h2>Data Filtering<a class="headerlink" href="#data-filtering" title="Permalink to this headline">¶</a></h2>
<p>The Data Filtering methods produce subsets of the facility locations, technology unit installation, and routes datasets (all outputs of preprocessing methods documented here) by U.S. state (region_id_2) and/or by the distance between facility pairs.</p>
<span class="target" id="module-celavi.data_filtering"></span><dl class="py function">
<dt id="celavi.data_filtering.filter_locations">
<code class="sig-prename descclassname">celavi.data_filtering.</code><code class="sig-name descname">filter_locations</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">loc_filename</span></em>, <em class="sig-param"><span class="n">tech_units_filename</span></em>, <em class="sig-param"><span class="n">states</span></em><span class="sig-paren">)</span><a class="headerlink" href="#celavi.data_filtering.filter_locations" title="Permalink to this definition">¶</a></dt>
<dd><p>This function is used to filter facility and technology unit locations
based on the list of states to include provided in the
scenario-specific config file.</p>
<p>Data is not returned; the filtered datasets overwrite the original datasets
(CSV files).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>loc_filename</strong> (<em>str</em>) – Path to the unfiltered computed locations dataset.</p></li>
<li><p><strong>tech_units_filename</strong> (<em>str</em>) – Path to the unfiltered number of technology units dataset.</p></li>
<li><p><strong>states</strong> (<em>list</em>) – List of states to include in the filtered datasets.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="celavi.data_filtering.filter_routes">
<code class="sig-prename descclassname">celavi.data_filtering.</code><code class="sig-name descname">filter_routes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filtered_locations_filename</span></em>, <em class="sig-param"><span class="n">routes_filename</span></em><span class="sig-paren">)</span><a class="headerlink" href="#celavi.data_filtering.filter_routes" title="Permalink to this definition">¶</a></dt>
<dd><p>This function is used to filter the routes file such that only routes
with both the source and destination contained within the states
specified in the scenario config file are included. Routes that
originate, terminate, or both outside the specified states are removed
from the dataset.</p>
<p>The filtered routes dataset overwrites the original routes dataset
(CSV file).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filtered_locations_filename</strong> (<em>str</em>) – Path to the locations dataset that was previously filtered by state
using the filter_locations method.</p></li>
<li><p><strong>routes_filename</strong> (<em>str</em>) – Path to the unfiltered routes dataset. Either the computed routes
dataset provided by the Router or a custom routes dataset may be
used.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="router">
<h2>Router<a class="headerlink" href="#router" title="Permalink to this headline">¶</a></h2>
<p>Router methods implement the Djikstra minimum-distance algorithm to find on-road transportation routes between supply chain facility pairs.</p>
<span class="target" id="module-celavi.routing"></span><p>Created on Fri Jan 22 08:03:13 2021</p>
<p>routing.py uses Dijkstra’s algorithm to compute distances between vertices on a network</p>
<p>Developed using code from Feedstock Production Emissions to Air Model (FPEAM) Copyright (c) 2018
Alliance for Sustainable Energy, LLC; Noah Fisher.
Builds on functionality in the FPEAM’s Router.py and Data.py.
Unmodified FPEAM code is available at <a class="reference external" href="https://github.com/NREL/fpeam">https://github.com/NREL/fpeam</a>.</p>
<p>&#64;author: aeberle</p>
<dl class="py class">
<dt id="celavi.routing.Router">
<em class="property">class </em><code class="sig-prename descclassname">celavi.routing.</code><code class="sig-name descname">Router</code><span class="sig-paren">(</span><em class="sig-param">edges</em>, <em class="sig-param">node_map</em>, <em class="sig-param">memory=None</em>, <em class="sig-param">algorithm=&lt;function bidirectional_dijkstra&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#celavi.routing.Router" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate minimum-distance routes between supply chain facilities.</p>
<dl class="py method">
<dt id="celavi.routing.Router.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">edges</em>, <em class="sig-param">node_map</em>, <em class="sig-param">memory=None</em>, <em class="sig-param">algorithm=&lt;function bidirectional_dijkstra&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#celavi.routing.Router.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>edges</strong> (<em>[</em><em>DataFrame</em><em>]</em>) – DataFrame of edges within the routing (transportation) network.</p></li>
<li><p><strong>node_map</strong> (<em>[</em><em>DataFrame</em><em>]</em>) – DataFrame of nodes within the routing (transportation) network.</p></li>
<li><p><strong>[</strong><strong>joblib.Memory</strong><strong>]</strong> (<em>memory</em>) – Allows for caching.</p></li>
<li><p><strong>algorithm</strong> (<em>[</em><em>function</em><em>]</em>) – Method for finding minimum-distance route. Defaults to bidirectional_dijkstra.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="celavi.routing.Router.get_route">
<code class="sig-name descname">get_route</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">start</span></em>, <em class="sig-param"><span class="n">end</span></em><span class="sig-paren">)</span><a class="headerlink" href="#celavi.routing.Router.get_route" title="Permalink to this definition">¶</a></dt>
<dd><p>Find route from &lt;start&gt; to &lt;end&gt;, if exists.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> (<em>[</em><em>list</em><em>] </em><em>[</em><em>long</em><em>, </em><em>lat</em><em>]</em>) – Starting point of route: a node in node_map.</p></li>
<li><p><strong>end</strong> (<em>[</em><em>list</em><em>] </em><em>[</em><em>long</em><em>, </em><em>lat</em><em>]</em>) – Ending point of route: a node in node_map.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>Length and characteristics of route from &lt;start&gt; to &lt;end&gt;.</p>
<dl class="simple">
<dt>Columns:</dt><dd><ul class="simple">
<li><p>region_transportation : str</p></li>
<li><p>fclass : int</p></li>
<li><p>vkmt : float</p></li>
</ul>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>[DataFrame]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="celavi.routing.Router.get_all_routes">
<em class="property">static </em><code class="sig-name descname">get_all_routes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">locations_file</span></em>, <em class="sig-param"><span class="n">route_pair_file</span></em>, <em class="sig-param"><span class="n">distance_filtering</span></em>, <em class="sig-param"><span class="n">transportation_graph</span></em>, <em class="sig-param"><span class="n">node_locations</span></em>, <em class="sig-param"><span class="n">routes_output_file</span></em>, <em class="sig-param"><span class="n">routing_output_folder</span></em><span class="sig-paren">)</span><a class="headerlink" href="#celavi.routing.Router.get_all_routes" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate distances traveled between all connected supply chain facilities.</p>
<p>Includes distance traveled through each transportation region (e.g., county FIPS) and road class.</p>
<p>This method has no return value. Routes are saved to CSV file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>locations_file</strong> (<em>str</em>) – File containing processed supply chain facility locations.</p></li>
<li><p><strong>route_pair_file</strong> (<em>str</em>) – File defining the allowable facility pairs to connect with routes.</p></li>
<li><p><strong>distance_filtering</strong> (<em>str</em>) – File defining distance-based route filtering by facility pair.</p></li>
<li><p><strong>transportation_graph</strong> (<em>str</em>) – File of transportation network data.</p></li>
<li><p><strong>node_locations</strong> (<em>str</em>) – File of node locations within transportation graph.</p></li>
<li><p><strong>routes_output_file</strong> (<em>str</em>) – Path to file where complete routes dataset is saved.</p></li>
<li><p><strong>routing_output_folder</strong> (<em>str</em>) – Path to directory for intermediate routing outputs.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="doc_scenario.html" class="btn btn-neutral float-right" title="Scenario" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="doc_config.html" class="btn btn-neutral float-left" title="Configuration Files" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2022, NREL

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>